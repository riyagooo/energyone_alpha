import{t as h,a as c,b as M}from"../chunks/CYEPvI1U.js";import"../chunks/DAxizKm6.js";import{p as mt,l as ye,b as dt,t as b,d as vt,s as n,c as s,e as f,g as e,m as p,i as _,r as t,w as we}from"../chunks/xC3-kGY6.js";import{s as m}from"../chunks/yShZL8Qo.js";import{i as k}from"../chunks/UHNRwfYL.js";import{e as ct,i as ft}from"../chunks/B5hnyKR-.js";import{s as se}from"../chunks/COsgKQ3U.js";import{s as ke}from"../chunks/Q_GEmBfN.js";import{e as Pe}from"../chunks/CZDIIiPP.js";import{i as ut}from"../chunks/DE2GX4WX.js";import{o as pt}from"../chunks/CJyuKVfR.js";import{g as gt}from"../chunks/CLAFF9o8.js";import{P as xt}from"../chunks/Bmdqo8de.js";import{C as bt}from"../chunks/BX5u_xLT.js";var _t=h('<div class="flex justify-center py-12"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div></div>'),ht=h('<div class="bg-slate-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300"><div class="relative h-48"><img class="w-full h-full object-cover"> <div class="absolute top-2 left-2"><span class="px-2 py-1 bg-blue-600 rounded-full text-xs font-semibold text-white">AI Recommended</span></div> <div class="absolute top-2 right-2"><span> </span></div></div> <div class="p-4"><h3 class="text-lg font-semibold text-slate-300 mb-1"> </h3> <p class="text-sm text-slate-400 mb-2"> </p> <div class="flex items-center justify-between mb-3"><span class="text-sm font-medium text-slate-300"> </span> <span class="text-sm font-medium text-slate-300"> </span></div> <div class="mb-3"><div class="flex items-center justify-between mb-1"><span class="text-sm text-slate-400">Risk Score</span> <div class="group relative"><span> </span></div></div> <div class="flex items-center justify-between"><span class="text-sm text-slate-400">IRR</span> <span class="text-sm font-medium text-green-400"> </span></div></div> <div class="space-y-3"><div class="flex items-center justify-between"><span class="text-sm text-slate-400">Project Size</span> <span class="text-sm font-medium text-slate-300"><!></span></div> <div class="flex items-center justify-between"><span class="text-sm text-slate-400">Min. Investment</span> <span class="text-sm font-medium text-slate-300"><!></span></div> <div class="flex items-center justify-between"><span class="text-sm text-slate-400">Investment Type</span> <span class="text-sm font-medium text-slate-300"> </span></div></div> <div class="mt-4 flex items-center justify-between"><button class="inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-t from-blue-600 to-blue-400 hover:to-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"><svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg> Add to Cart</button> <a class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-t from-blue-600 to-blue-400 hover:to-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">View Details</a></div></div></div>'),yt=h('<div class="flex justify-center mt-8"><!></div>'),wt=h('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div> <!>',1),kt=h(`<div class="text-center py-8"><p class="text-slate-400">We couldn't find any projects matching your profile. Please try adjusting your preferences.</p></div>`),Pt=h('<div class="mb-8"><!></div> <div class="mt-10 flex justify-center"><button class="px-8 py-4 bg-gradient-to-t from-blue-600 to-blue-400 hover:to-blue-500 text-white font-medium rounded-md shadow-lg text-lg">Show Me All Available Projects</button></div>',1),St=h(`<div class="min-h-screen bg-slate-900"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="mb-8"><h1 class="text-3xl font-bold text-slate-300">Your AI-Recommended Portfolio</h1> <p class="mt-2 text-slate-400">Based on your profile, we've selected these projects for you</p></div> <div class="mb-8 bg-slate-800 p-6 rounded-lg"><h2 class="text-xl font-semibold text-white mb-3">Your Investment Profile</h2> <div class="flex flex-wrap gap-4"><div class="px-4 py-2 bg-slate-700 rounded-full text-slate-300"><span class="font-medium">Risk Tolerance:</span> </div> <div class="px-4 py-2 bg-slate-700 rounded-full text-slate-300"><span class="font-medium">Time Horizon:</span> </div> <div class="px-4 py-2 bg-slate-700 rounded-full text-slate-300"><span class="font-medium">Goal:</span> </div> <div class="px-4 py-2 bg-slate-700 rounded-full text-slate-300"><span class="font-medium">Preference:</span> </div></div> <p class="mt-4 text-slate-400"> </p></div> <!></div> <!></div>`);function Nt(Se,Ae){mt(Ae,!1);const ae=p(),re=p();let u=p([]),P=p(1);const z=6;let ie=p(!0),d=p({riskTolerance:"",investmentHorizon:"",financialGoals:"",investmentAmount:"",investmentPreference:""}),g=p([]),H=p(!1);function Ie(a){e(g).find(r=>r.id===a.id)?f(g,e(g).map(r=>r.id===a.id?{...r,quantity:r.quantity+1}:r)):f(g,[...e(g),{...a,quantity:1}]),f(H,!0)}pt(()=>{f(d,{riskTolerance:localStorage.getItem("riskTolerance")||"",investmentHorizon:localStorage.getItem("investmentHorizon")||"",financialGoals:localStorage.getItem("financialGoals")||"",investmentAmount:localStorage.getItem("investmentAmount")||"",investmentPreference:localStorage.getItem("investmentPreference")||""}),console.log("User profile:",e(d)),Te()});async function Te(){try{const a=await fetch("/api/projects");let o=[];try{const r=await a.json();Array.isArray(r)?o=r:r&&typeof r=="object"&&Array.isArray(r.projects)?o=r.projects:(console.error("Projects data is not in expected format",r),o=O())}catch(r){console.error("Error parsing projects data:",r),o=O()}f(u,Me(o,e(d)))}catch(a){console.error("Error fetching recommended projects:",a),f(u,O())}finally{f(ie,!1)}}function Me(a,o){return a.filter(r=>!(o.investmentAmount==="small"&&r.minimumInvestment>1e4||o.investmentAmount==="medium"&&r.minimumInvestment>1e5||o.investmentAmount==="large"&&r.minimumInvestment>5e5||o.riskTolerance==="low"&&r.riskScore&&r.riskScore>2.5||o.riskTolerance==="medium"&&r.riskScore&&r.riskScore>3.5)).sort((r,S)=>o.investmentPreference==="high-return"?(S.irr||0)-(r.irr||0):o.investmentPreference==="low-risk"?(r.riskScore||5)-(S.riskScore||5):o.investmentPreference==="environmental-impact"?(S.carbonOffset||0)-(r.carbonOffset||0):0).slice(0,10)}function O(){return[{id:"1",name:"Solar Farm Alpha",type:"Solar",location:"Arizona, USA",status:"Operational",riskLevel:"Low",riskScore:1.8,irr:7.2,investment:5e6,minimumInvestment:5e3,image:"/images/projects/solar-farm-1.jpg",capacity:"50 MW",investmentType:"equity",carbonOffset:75e3,developer:"SunPower Corp",description:"A utility-scale solar PV farm with tracking technology to maximize energy output throughout the day."},{id:"2",name:"Coastal Wind Project",type:"Wind",location:"North Carolina, USA",status:"Under Construction",riskLevel:"Medium",riskScore:3.1,irr:9.4,investment:12e6,minimumInvestment:1e4,image:"/images/projects/wind-farm-1.jpg",capacity:"75 MW",investmentType:"debt",carbonOffset:12e4,developer:"Orsted Wind Power",description:"An offshore wind farm utilizing the latest turbine technology to harness consistent coastal winds."},{id:"3",name:"Hydroelectric Station",type:"Hydro",location:"Washington, USA",status:"Operational",riskLevel:"Low",riskScore:2,irr:6.8,investment:85e5,minimumInvestment:25e3,image:"/images/projects/hydro-1.jpg",capacity:"35 MW",investmentType:"equity",carbonOffset:6e4,developer:"Pacific Hydro",description:"A run-of-river hydroelectric facility with minimal environmental impact and stable power generation."}]}function ze(){gt("/shop")}function Ce(a){f(P,a)}function He(){let a="";return e(d).riskTolerance==="low"&&(a+="lower-risk "),e(d).riskTolerance==="medium"&&(a+="moderate-risk "),e(d).riskTolerance==="high"&&(a+="higher-risk "),e(d).investmentHorizon==="short"&&(a+="short-term "),e(d).investmentHorizon==="medium"&&(a+="medium-term "),e(d).investmentHorizon==="long"&&(a+="long-term "),a+="investments",a}ye(()=>e(u),()=>{f(ae,Math.ceil(e(u).length/z))}),ye(()=>(e(u),e(P)),()=>{f(re,e(u).slice((e(P)-1)*z,e(P)*z))}),dt(),ut();var $=St(),U=s($),W=n(s(U),2),j=n(s(W),2),F=s(j),Oe=n(s(F));t(F);var L=n(F,2),$e=n(s(L));t(L);var N=n(L,2),Ue=n(s(N));t(N);var ne=n(N,2),We=n(s(ne));t(ne),t(j);var oe=n(j,2),je=s(oe);t(oe),t(W);var Fe=n(W,2);{var Le=a=>{var o=_t();c(a,o)},Ne=a=>{var o=Pt(),r=we(o),S=s(r);{var qe=y=>{var C=wt(),R=we(C);ct(R,5,()=>e(re),ft,(A,i)=>{var I=ht(),q=s(I),G=s(q),me=n(G,4),B=s(me),Ve=s(B,!0);t(B),t(me),t(q);var de=n(q,2),E=s(de),Ye=s(E,!0);t(E);var K=n(E,2),De=s(K,!0);t(K);var V=n(K,2),Y=s(V),Je=s(Y,!0);t(Y);var ve=n(Y,2),Qe=s(ve,!0);t(ve),t(V);var D=n(V,2),J=s(D),ce=n(s(J),2),Q=s(ce),Xe=s(Q,!0);t(Q),t(ce),t(J);var fe=n(J,2),ue=n(s(fe),2),Ze=s(ue);t(ue),t(fe),t(D);var X=n(D,2),Z=s(X),pe=n(s(Z),2),et=s(pe);{var tt=l=>{var v=M();b(x=>m(v,`$${x??""}B`),[()=>(e(i).investment/1e9).toFixed(1)],_),c(l,v)},st=(l,v)=>{{var x=w=>{var T=M();b(te=>m(T,`$${te??""}M`),[()=>(e(i).investment/1e6).toFixed(1)],_),c(w,T)},lt=w=>{var T=M();b(te=>m(T,`$${te??""}K`),[()=>(e(i).investment/1e3).toFixed(1)],_),c(w,T)};k(l,w=>{e(i).investment>=1e6?w(x):w(lt,!1)},v)}};k(et,l=>{e(i).investment>=1e9?l(tt):l(st,!1)})}t(pe),t(Z);var ee=n(Z,2),ge=n(s(ee),2),at=s(ge);{var rt=l=>{var v=M();b(x=>m(v,`$${x??""}M`),[()=>(e(i).minimumInvestment/1e6).toFixed(1)],_),c(l,v)},it=l=>{var v=M();b(x=>m(v,`$${x??""}K`),[()=>(e(i).minimumInvestment/1e3).toFixed(1)],_),c(l,v)};k(at,l=>{e(i).minimumInvestment>=1e6?l(rt):l(it,!1)})}t(ge),t(ee);var xe=n(ee,2),be=n(s(xe),2),nt=s(be,!0);t(be),t(xe),t(X);var _e=n(X,2),he=s(_e),ot=n(he,2);t(_e),t(de),t(I),b((l,v)=>{se(G,"src",e(i).image),se(G,"alt",e(i).name),ke(B,1,`px-2 py-1 rounded-full text-xs font-semibold ${e(i).status==="Operational"?"bg-green-900 text-green-100":e(i).status==="Under Construction"?"bg-blue-900 text-blue-100":"bg-yellow-900 text-yellow-100"}`),m(Ve,e(i).status),m(Ye,e(i).name),m(De,e(i).location),m(Je,e(i).type),m(Qe,e(i).capacity),ke(Q,1,`px-3 py-1 rounded-full text-sm font-semibold ${e(i).riskScore&&e(i).riskScore<=2.5?"bg-green-900 text-green-100":e(i).riskScore&&e(i).riskScore<=3.5?"bg-yellow-900 text-yellow-100":"bg-red-900 text-red-100"} cursor-help`),m(Xe,l),m(Ze,`${e(i).irr??"N/A"}%`),m(nt,v),se(ot,"href",`/projects/${e(i).id??""}`)},[()=>{var l;return((l=e(i).riskScore)==null?void 0:l.toFixed(1))??"N/A"},()=>e(i).investmentType.charAt(0).toUpperCase()+e(i).investmentType.slice(1)],_),Pe("click",he,()=>Ie(e(i))),c(A,I)}),t(R);var Ee=n(R,2);{var Ke=A=>{var i=yt(),I=s(i);xt(I,{get currentPage(){return e(P)},get totalPages(){return e(ae)},onPageChange:Ce}),t(i),c(A,i)};k(Ee,A=>{e(u).length>z&&A(Ke)})}c(y,C)},Ge=y=>{var C=kt();c(y,C)};k(S,y=>{e(u).length>0?y(qe):y(Ge,!1)})}t(r);var le=n(r,2),Be=s(le);t(le),Pe("click",Be,ze),c(a,o)};k(Fe,a=>{e(ie)?a(Le):a(Ne,!1)})}t(U);var Re=n(U,2);bt(Re,{get cart(){return e(g)},set cart(a){f(g,a)},get isOpen(){return e(H)},set isOpen(a){f(H,a)},$$legacy:!0}),t($),b(a=>{m(Oe,` ${e(d).riskTolerance||"Not specified"}`),m($e,` ${e(d).investmentHorizon||"Not specified"}`),m(Ue,` ${e(d).financialGoals||"Not specified"}`),m(We,` ${e(d).investmentPreference||"Not specified"}`),m(je,`Our AI has selected projects suitable for ${a??""}`)},[He],_),c(Se,$),vt()}export{Nt as component};
