class $t{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],s=n+o,a=Math.abs(n)<Math.abs(o)?n-(s-o):o-(s-n);a&&(e[r++]=a),n=s}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,s=0;if(e>0){for(s=n[--e];e>0&&(r=s,i=n[--e],s=r+i,o=i-(s-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}var te={value:()=>{}};function Nn(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new at(e)}function at(t){this._=t}function ne(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}at.prototype=Nn.prototype={constructor:at,on:function(t,n){var e=this._,r=ne(t+"",e),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=ee(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(i=(t=r[o]).type)e[i]=Qt(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Qt(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new at(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function ee(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Qt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=te,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Pt="http://www.w3.org/1999/xhtml";const jt={svg:"http://www.w3.org/2000/svg",xhtml:Pt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kt(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),jt.hasOwnProperty(n)?{space:jt[n],local:t}:t}function re(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Pt&&n.documentElement.namespaceURI===Pt?n.createElement(t):n.createElementNS(e,t)}}function ie(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function kn(t){var n=kt(t);return(n.local?ie:re)(n)}function oe(){}function Vt(t){return t==null?oe:function(){return this.querySelector(t)}}function se(t){typeof t!="function"&&(t=Vt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=new Array(s),c,f,u=0;u<s;++u)(c=o[u])&&(f=t.call(c,c.__data__,u,o))&&("__data__"in c&&(f.__data__=c.__data__),a[u]=f);return new E(r,this._parents)}function ae(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ue(){return[]}function En(t){return t==null?ue:function(){return this.querySelectorAll(t)}}function fe(t){return function(){return ae(t.apply(this,arguments))}}function ce(t){typeof t=="function"?t=fe(t):t=En(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var s=n[o],a=s.length,c,f=0;f<a;++f)(c=s[f])&&(r.push(t.call(c,c.__data__,f,s)),i.push(c));return new E(r,i)}function Sn(t){return function(){return this.matches(t)}}function $n(t){return function(n){return n.matches(t)}}var le=Array.prototype.find;function he(t){return function(){return le.call(this.children,t)}}function pe(){return this.firstElementChild}function de(t){return this.select(t==null?pe:he(typeof t=="function"?t:$n(t)))}var ge=Array.prototype.filter;function ye(){return Array.from(this.children)}function _e(t){return function(){return ge.call(this.children,t)}}function ve(t){return this.selectAll(t==null?ye:_e(typeof t=="function"?t:$n(t)))}function we(t){typeof t!="function"&&(t=Sn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],c,f=0;f<s;++f)(c=o[f])&&t.call(c,c.__data__,f,o)&&a.push(c);return new E(r,this._parents)}function Mn(t){return new Array(t.length)}function xe(){return new E(this._enter||this._groups.map(Mn),this._parents)}function ct(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}ct.prototype={constructor:ct,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function me(t){return function(){return t}}function be(t,n,e,r,i,o){for(var s=0,a,c=n.length,f=o.length;s<f;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new ct(t,o[s]);for(;s<c;++s)(a=n[s])&&(i[s]=a)}function Ae(t,n,e,r,i,o,s){var a,c,f=new Map,u=n.length,l=o.length,h=new Array(u),p;for(a=0;a<u;++a)(c=n[a])&&(h[a]=p=s.call(c,c.__data__,a,n)+"",f.has(p)?i[a]=c:f.set(p,c));for(a=0;a<l;++a)p=s.call(t,o[a],a,o)+"",(c=f.get(p))?(r[a]=c,c.__data__=o[a],f.delete(p)):e[a]=new ct(t,o[a]);for(a=0;a<u;++a)(c=n[a])&&f.get(h[a])===c&&(i[a]=c)}function Ne(t){return t.__data__}function ke(t,n){if(!arguments.length)return Array.from(this,Ne);var e=n?Ae:be,r=this._parents,i=this._groups;typeof t!="function"&&(t=me(t));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),f=0;f<o;++f){var u=r[f],l=i[f],h=l.length,p=Ee(t.call(u,u&&u.__data__,f,r)),d=p.length,g=a[f]=new Array(d),x=s[f]=new Array(d),rt=c[f]=new Array(h);e(u,l,g,x,rt,p,n);for(var C=0,T=0,X,H;C<d;++C)if(X=g[C]){for(C>=T&&(T=C+1);!(H=x[T])&&++T<d;);X._next=H||null}}return s=new E(s,r),s._enter=a,s._exit=c,s}function Ee(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Se(){return new E(this._exit||this._groups.map(Mn),this._parents)}function $e(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function Me(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var f=e[c],u=r[c],l=f.length,h=a[c]=new Array(l),p,d=0;d<l;++d)(p=f[d]||u[d])&&(h[d]=p);for(;c<i;++c)a[c]=e[c];return new E(a,this._parents)}function Ce(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Pe(t){t||(t=Re);function n(l,h){return l&&h?t(l.__data__,h.__data__):!l-!h}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var s=e[o],a=s.length,c=i[o]=new Array(a),f,u=0;u<a;++u)(f=s[u])&&(c[u]=f);c.sort(n)}return new E(i,this._parents).order()}function Re(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Te(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Fe(){return Array.from(this)}function Ie(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Le(){let t=0;for(const n of this)++t;return t}function qe(){return!this.node()}function Xe(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function He(t){return function(){this.removeAttribute(t)}}function Oe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function De(t,n){return function(){this.setAttribute(t,n)}}function Ye(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function ze(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Ve(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Be(t,n){var e=kt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Oe:He:typeof n=="function"?e.local?Ve:ze:e.local?Ye:De)(e,n))}function Cn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ge(t){return function(){this.style.removeProperty(t)}}function Ue(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ke(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function We(t,n,e){return arguments.length>1?this.each((n==null?Ge:typeof n=="function"?Ke:Ue)(t,n,e??"")):Y(this.node(),t)}function Y(t,n){return t.style.getPropertyValue(n)||Cn(t).getComputedStyle(t,null).getPropertyValue(n)}function Ze(t){return function(){delete this[t]}}function Je(t,n){return function(){this[t]=n}}function Qe(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function je(t,n){return arguments.length>1?this.each((n==null?Ze:typeof n=="function"?Qe:Je)(t,n)):this.node()[t]}function Pn(t){return t.trim().split(/^|\s+/)}function Bt(t){return t.classList||new Rn(t)}function Rn(t){this._node=t,this._names=Pn(t.getAttribute("class")||"")}Rn.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Tn(t,n){for(var e=Bt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Fn(t,n){for(var e=Bt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function tr(t){return function(){Tn(this,t)}}function nr(t){return function(){Fn(this,t)}}function er(t,n){return function(){(n.apply(this,arguments)?Tn:Fn)(this,t)}}function rr(t,n){var e=Pn(t+"");if(arguments.length<2){for(var r=Bt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?er:n?tr:nr)(e,n))}function ir(){this.textContent=""}function or(t){return function(){this.textContent=t}}function sr(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function ar(t){return arguments.length?this.each(t==null?ir:(typeof t=="function"?sr:or)(t)):this.node().textContent}function ur(){this.innerHTML=""}function fr(t){return function(){this.innerHTML=t}}function cr(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function lr(t){return arguments.length?this.each(t==null?ur:(typeof t=="function"?cr:fr)(t)):this.node().innerHTML}function hr(){this.nextSibling&&this.parentNode.appendChild(this)}function pr(){return this.each(hr)}function dr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gr(){return this.each(dr)}function yr(t){var n=typeof t=="function"?t:kn(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function _r(){return null}function vr(t,n){var e=typeof t=="function"?t:kn(t),r=n==null?_r:typeof n=="function"?n:Vt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function wr(){var t=this.parentNode;t&&t.removeChild(this)}function xr(){return this.each(wr)}function mr(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function br(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ar(t){return this.select(t?br:mr)}function Nr(t){return arguments.length?this.property("__data__",t):this.node().__data__}function kr(t){return function(n){t.call(this,n,this.__data__)}}function Er(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Sr(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function $r(t,n,e){return function(){var r=this.__on,i,o=kr(n);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Mr(t,n,e){var r=Er(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,f=a.length,u;c<f;++c)for(i=0,u=a[c];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=n?$r:Sr,i=0;i<o;++i)this.each(a(r[i],n,e));return this}function In(t,n,e){var r=Cn(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Cr(t,n){return function(){return In(this,t,n)}}function Pr(t,n){return function(){return In(this,t,n.apply(this,arguments))}}function Rr(t,n){return this.each((typeof n=="function"?Pr:Cr)(t,n))}function*Tr(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Fr=[null];function E(t,n){this._groups=t,this._parents=n}function tt(){return new E([[document.documentElement]],Fr)}function Ir(){return this}E.prototype=tt.prototype={constructor:E,select:se,selectAll:ce,selectChild:de,selectChildren:ve,filter:we,data:ke,enter:xe,exit:Se,join:$e,merge:Me,selection:Ir,order:Ce,sort:Pe,call:Te,nodes:Fe,node:Ie,size:Le,empty:qe,each:Xe,attr:Be,style:We,property:je,classed:rr,text:ar,html:lr,raise:pr,lower:gr,append:yr,insert:vr,remove:xr,clone:Ar,datum:Nr,on:Mr,dispatch:Rr,[Symbol.iterator]:Tr};function Gt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Ln(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function nt(){}var Z=.7,lt=1/Z,D="\\s*([+-]?\\d+)\\s*",J="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lr=/^#([0-9a-f]{3,8})$/,qr=new RegExp(`^rgb\\(${D},${D},${D}\\)$`),Xr=new RegExp(`^rgb\\(${$},${$},${$}\\)$`),Hr=new RegExp(`^rgba\\(${D},${D},${D},${J}\\)$`),Or=new RegExp(`^rgba\\(${$},${$},${$},${J}\\)$`),Dr=new RegExp(`^hsl\\(${J},${$},${$}\\)$`),Yr=new RegExp(`^hsla\\(${J},${$},${$},${J}\\)$`),tn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gt(nt,Q,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nn,formatHex:nn,formatHex8:zr,formatHsl:Vr,formatRgb:en,toString:en});function nn(){return this.rgb().formatHex()}function zr(){return this.rgb().formatHex8()}function Vr(){return qn(this).formatHsl()}function en(){return this.rgb().formatRgb()}function Q(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Lr.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?rn(n):e===3?new m(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?it(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?it(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=qr.exec(t))?new m(n[1],n[2],n[3],1):(n=Xr.exec(t))?new m(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Hr.exec(t))?it(n[1],n[2],n[3],n[4]):(n=Or.exec(t))?it(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Dr.exec(t))?an(n[1],n[2]/100,n[3]/100,1):(n=Yr.exec(t))?an(n[1],n[2]/100,n[3]/100,n[4]):tn.hasOwnProperty(t)?rn(tn[t]):t==="transparent"?new m(NaN,NaN,NaN,0):null}function rn(t){return new m(t>>16&255,t>>8&255,t&255,1)}function it(t,n,e,r){return r<=0&&(t=n=e=NaN),new m(t,n,e,r)}function Br(t){return t instanceof nt||(t=Q(t)),t?(t=t.rgb(),new m(t.r,t.g,t.b,t.opacity)):new m}function Rt(t,n,e,r){return arguments.length===1?Br(t):new m(t,n,e,r??1)}function m(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Gt(m,Rt,Ln(nt,{brighter(t){return t=t==null?lt:Math.pow(lt,t),new m(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Z:Math.pow(Z,t),new m(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new m(L(this.r),L(this.g),L(this.b),ht(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:on,formatHex:on,formatHex8:Gr,formatRgb:sn,toString:sn}));function on(){return`#${I(this.r)}${I(this.g)}${I(this.b)}`}function Gr(){return`#${I(this.r)}${I(this.g)}${I(this.b)}${I((isNaN(this.opacity)?1:this.opacity)*255)}`}function sn(){const t=ht(this.opacity);return`${t===1?"rgb(":"rgba("}${L(this.r)}, ${L(this.g)}, ${L(this.b)}${t===1?")":`, ${t})`}`}function ht(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function L(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function I(t){return t=L(t),(t<16?"0":"")+t.toString(16)}function an(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new N(t,n,e,r)}function qn(t){if(t instanceof N)return new N(t.h,t.s,t.l,t.opacity);if(t instanceof nt||(t=Q(t)),!t)return new N;if(t instanceof N)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),s=NaN,a=o-i,c=(o+i)/2;return a?(n===o?s=(e-r)/a+(e<r)*6:e===o?s=(r-n)/a+2:s=(n-e)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new N(s,a,c,t.opacity)}function Ur(t,n,e,r){return arguments.length===1?qn(t):new N(t,n,e,r??1)}function N(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Gt(N,Ur,Ln(nt,{brighter(t){return t=t==null?lt:Math.pow(lt,t),new N(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Z:Math.pow(Z,t),new N(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new m(Mt(t>=240?t-240:t+120,i,r),Mt(t,i,r),Mt(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new N(un(this.h),ot(this.s),ot(this.l),ht(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ht(this.opacity);return`${t===1?"hsl(":"hsla("}${un(this.h)}, ${ot(this.s)*100}%, ${ot(this.l)*100}%${t===1?")":`, ${t})`}`}}));function un(t){return t=(t||0)%360,t<0?t+360:t}function ot(t){return Math.max(0,Math.min(1,t||0))}function Mt(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Xn=t=>()=>t;function Kr(t,n){return function(e){return t+e*n}}function Wr(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Zr(t){return(t=+t)==1?Hn:function(n,e){return e-n?Wr(n,e,t):Xn(isNaN(n)?e:n)}}function Hn(t,n){var e=n-t;return e?Kr(t,e):Xn(isNaN(t)?n:t)}const fn=function t(n){var e=Zr(n);function r(i,o){var s=e((i=Rt(i)).r,(o=Rt(o)).r),a=e(i.g,o.g),c=e(i.b,o.b),f=Hn(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=c(u),i.opacity=f(u),i+""}}return r.gamma=t,r}(1);function F(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Tt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ct=new RegExp(Tt.source,"g");function Jr(t){return function(){return t}}function Qr(t){return function(n){return t(n)+""}}function jr(t,n){var e=Tt.lastIndex=Ct.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(t=t+"",n=n+"";(r=Tt.exec(t))&&(i=Ct.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:F(r,i)})),e=Ct.lastIndex;return e<n.length&&(o=n.slice(e),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?Qr(c[0].x):Jr(n):(n=c.length,function(f){for(var u=0,l;u<n;++u)a[(l=c[u]).i]=l.x(f);return a.join("")})}var cn=180/Math.PI,Ft={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function On(t,n,e,r,i,o){var s,a,c;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*cn,skewX:Math.atan(c)*cn,scaleX:s,scaleY:a}}var st;function ti(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Ft:On(n.a,n.b,n.c,n.d,n.e,n.f)}function ni(t){return t==null||(st||(st=document.createElementNS("http://www.w3.org/2000/svg","g")),st.setAttribute("transform",t),!(t=st.transform.baseVal.consolidate()))?Ft:(t=t.matrix,On(t.a,t.b,t.c,t.d,t.e,t.f))}function Dn(t,n,e,r){function i(f){return f.length?f.pop()+" ":""}function o(f,u,l,h,p,d){if(f!==l||u!==h){var g=p.push("translate(",null,n,null,e);d.push({i:g-4,x:F(f,l)},{i:g-2,x:F(u,h)})}else(l||h)&&p.push("translate("+l+n+h+e)}function s(f,u,l,h){f!==u?(f-u>180?u+=360:u-f>180&&(f+=360),h.push({i:l.push(i(l)+"rotate(",null,r)-2,x:F(f,u)})):u&&l.push(i(l)+"rotate("+u+r)}function a(f,u,l,h){f!==u?h.push({i:l.push(i(l)+"skewX(",null,r)-2,x:F(f,u)}):u&&l.push(i(l)+"skewX("+u+r)}function c(f,u,l,h,p,d){if(f!==l||u!==h){var g=p.push(i(p)+"scale(",null,",",null,")");d.push({i:g-4,x:F(f,l)},{i:g-2,x:F(u,h)})}else(l!==1||h!==1)&&p.push(i(p)+"scale("+l+","+h+")")}return function(f,u){var l=[],h=[];return f=t(f),u=t(u),o(f.translateX,f.translateY,u.translateX,u.translateY,l,h),s(f.rotate,u.rotate,l,h),a(f.skewX,u.skewX,l,h),c(f.scaleX,f.scaleY,u.scaleX,u.scaleY,l,h),f=u=null,function(p){for(var d=-1,g=h.length,x;++d<g;)l[(x=h[d]).i]=x.x(p);return l.join("")}}}var ei=Dn(ti,"px, ","px)","deg)"),ri=Dn(ni,", ",")",")"),z=0,G=0,B=0,Yn=1e3,pt,U,dt=0,q=0,Et=0,j=typeof performance=="object"&&performance.now?performance:Date,zn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ut(){return q||(zn(ii),q=j.now()+Et)}function ii(){q=0}function gt(){this._call=this._time=this._next=null}gt.prototype=Vn.prototype={constructor:gt,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Ut():+e)+(n==null?0:+n),!this._next&&U!==this&&(U?U._next=this:pt=this,U=this),this._call=t,this._time=e,It()},stop:function(){this._call&&(this._call=null,this._time=1/0,It())}};function Vn(t,n,e){var r=new gt;return r.restart(t,n,e),r}function oi(){Ut(),++z;for(var t=pt,n;t;)(n=q-t._time)>=0&&t._call.call(void 0,n),t=t._next;--z}function ln(){q=(dt=j.now())+Et,z=G=0;try{oi()}finally{z=0,ai(),q=0}}function si(){var t=j.now(),n=t-dt;n>Yn&&(Et-=n,dt=t)}function ai(){for(var t,n=pt,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:pt=e);U=t,It(r)}function It(t){if(!z){G&&(G=clearTimeout(G));var n=t-q;n>24?(t<1/0&&(G=setTimeout(ln,t-j.now()-Et)),B&&(B=clearInterval(B))):(B||(dt=j.now(),B=setInterval(si,Yn)),z=1,zn(ln))}}function hn(t,n,e){var r=new gt;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var ui=Nn("start","end","cancel","interrupt"),fi=[],Bn=0,pn=1,Lt=2,ut=3,dn=4,qt=5,ft=6;function St(t,n,e,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(e in s)return;ci(t,e,{name:n,index:r,group:i,on:ui,tween:fi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Bn})}function Kt(t,n){var e=S(t,n);if(e.state>Bn)throw new Error("too late; already scheduled");return e}function M(t,n){var e=S(t,n);if(e.state>ut)throw new Error("too late; already running");return e}function S(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ci(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Vn(o,0,e.time);function o(f){e.state=pn,e.timer.restart(s,e.delay,e.time),e.delay<=f&&s(f-e.delay)}function s(f){var u,l,h,p;if(e.state!==pn)return c();for(u in r)if(p=r[u],p.name===e.name){if(p.state===ut)return hn(s);p.state===dn?(p.state=ft,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<n&&(p.state=ft,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(hn(function(){e.state===ut&&(e.state=dn,e.timer.restart(a,e.delay,e.time),a(f))}),e.state=Lt,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Lt){for(e.state=ut,i=new Array(h=e.tween.length),u=0,l=-1;u<h;++u)(p=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(i[++l]=p);i.length=l+1}}function a(f){for(var u=f<e.duration?e.ease.call(null,f/e.duration):(e.timer.restart(c),e.state=qt,1),l=-1,h=i.length;++l<h;)i[l].call(t,u);e.state===qt&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=ft,e.timer.stop(),delete r[n];for(var f in r)return;delete t.__transition}}function li(t,n){var e=t.__transition,r,i,o=!0,s;if(e){n=n==null?null:n+"";for(s in e){if((r=e[s]).name!==n){o=!1;continue}i=r.state>Lt&&r.state<qt,r.state=ft,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[s]}o&&delete t.__transition}}function hi(t){return this.each(function(){li(this,t)})}function pi(t,n){var e,r;return function(){var i=M(this,t),o=i.tween;if(o!==e){r=e=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===n){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function di(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=M(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:n,value:e},c=0,f=i.length;c<f;++c)if(i[c].name===n){i[c]=a;break}c===f&&i.push(a)}o.tween=i}}function gi(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=S(this.node(),e).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((n==null?pi:di)(e,t,n))}function Wt(t,n,e){var r=t._id;return t.each(function(){var i=M(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return S(i,r).value[n]}}function Gn(t,n){var e;return(typeof n=="number"?F:n instanceof Q?fn:(e=Q(n))?(n=e,fn):jr)(t,n)}function yi(t){return function(){this.removeAttribute(t)}}function _i(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vi(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=n(r=s,e)}}function wi(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=n(r=s,e)}}function xi(t,n,e){var r,i,o;return function(){var s,a=e(this),c;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=n(r=s,a)))}}function mi(t,n,e){var r,i,o;return function(){var s,a=e(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=n(r=s,a)))}}function bi(t,n){var e=kt(t),r=e==="transform"?ri:Gn;return this.attrTween(t,typeof n=="function"?(e.local?mi:xi)(e,r,Wt(this,"attr."+t,n)):n==null?(e.local?_i:yi)(e):(e.local?wi:vi)(e,r,n))}function Ai(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Ni(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function ki(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Ni(t,o)),e}return i._value=n,i}function Ei(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Ai(t,o)),e}return i._value=n,i}function Si(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=kt(t);return this.tween(e,(r.local?ki:Ei)(r,n))}function $i(t,n){return function(){Kt(this,t).delay=+n.apply(this,arguments)}}function Mi(t,n){return n=+n,function(){Kt(this,t).delay=n}}function Ci(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?$i:Mi)(n,t)):S(this.node(),n).delay}function Pi(t,n){return function(){M(this,t).duration=+n.apply(this,arguments)}}function Ri(t,n){return n=+n,function(){M(this,t).duration=n}}function Ti(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Pi:Ri)(n,t)):S(this.node(),n).duration}function Fi(t,n){if(typeof n!="function")throw new Error;return function(){M(this,t).ease=n}}function Ii(t){var n=this._id;return arguments.length?this.each(Fi(n,t)):S(this.node(),n).ease}function Li(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;M(this,t).ease=e}}function qi(t){if(typeof t!="function")throw new Error;return this.each(Li(this._id,t))}function Xi(t){typeof t!="function"&&(t=Sn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],c,f=0;f<s;++f)(c=o[f])&&t.call(c,c.__data__,f,o)&&a.push(c);return new R(r,this._parents,this._name,this._id)}function Hi(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var c=n[a],f=e[a],u=c.length,l=s[a]=new Array(u),h,p=0;p<u;++p)(h=c[p]||f[p])&&(l[p]=h);for(;a<r;++a)s[a]=n[a];return new R(s,this._parents,this._name,this._id)}function Oi(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Di(t,n,e){var r,i,o=Oi(n)?Kt:M;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(n,e),s.on=i}}function Yi(t,n){var e=this._id;return arguments.length<2?S(this.node(),e).on.on(t):this.each(Di(e,t,n))}function zi(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Vi(){return this.on("end.remove",zi(this._id))}function Bi(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Vt(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],c=a.length,f=o[s]=new Array(c),u,l,h=0;h<c;++h)(u=a[h])&&(l=t.call(u,u.__data__,h,a))&&("__data__"in u&&(l.__data__=u.__data__),f[h]=l,St(f[h],n,e,h,f,S(u,e)));return new R(o,this._parents,n,e)}function Gi(t){var n=this._name,e=this._id;typeof t!="function"&&(t=En(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c=r[a],f=c.length,u,l=0;l<f;++l)if(u=c[l]){for(var h=t.call(u,u.__data__,l,c),p,d=S(u,e),g=0,x=h.length;g<x;++g)(p=h[g])&&St(p,n,e,g,h,d);o.push(h),s.push(u)}return new R(o,s,n,e)}var Ui=tt.prototype.constructor;function Ki(){return new Ui(this._groups,this._parents)}function Wi(t,n){var e,r,i;return function(){var o=Y(this,t),s=(this.style.removeProperty(t),Y(this,t));return o===s?null:o===e&&s===r?i:i=n(e=o,r=s)}}function Un(t){return function(){this.style.removeProperty(t)}}function Zi(t,n,e){var r,i=e+"",o;return function(){var s=Y(this,t);return s===i?null:s===r?o:o=n(r=s,e)}}function Ji(t,n,e){var r,i,o;return function(){var s=Y(this,t),a=e(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),Y(this,t))),s===c?null:s===r&&c===i?o:(i=c,o=n(r=s,a))}}function Qi(t,n){var e,r,i,o="style."+n,s="end."+o,a;return function(){var c=M(this,t),f=c.on,u=c.value[o]==null?a||(a=Un(n)):void 0;(f!==e||i!==u)&&(r=(e=f).copy()).on(s,i=u),c.on=r}}function ji(t,n,e){var r=(t+="")=="transform"?ei:Gn;return n==null?this.styleTween(t,Wi(t,r)).on("end.style."+t,Un(t)):typeof n=="function"?this.styleTween(t,Ji(t,r,Wt(this,"style."+t,n))).each(Qi(this._id,t)):this.styleTween(t,Zi(t,r,n),e).on("end.style."+t,null)}function to(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function no(t,n,e){var r,i;function o(){var s=n.apply(this,arguments);return s!==i&&(r=(i=s)&&to(t,s,e)),r}return o._value=n,o}function eo(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,no(t,n,e??""))}function ro(t){return function(){this.textContent=t}}function io(t){return function(){var n=t(this);this.textContent=n??""}}function oo(t){return this.tween("text",typeof t=="function"?io(Wt(this,"text",t)):ro(t==null?"":t+""))}function so(t){return function(n){this.textContent=t.call(this,n)}}function ao(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&so(i)),n}return r._value=t,r}function uo(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,ao(t))}function fo(){for(var t=this._name,n=this._id,e=Kn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,f=0;f<a;++f)if(c=s[f]){var u=S(c,n);St(c,t,e,f,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new R(r,this._parents,t,e)}function co(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--i===0&&o()}};e.each(function(){var f=M(this,r),u=f.on;u!==t&&(n=(t=u).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),f.on=n}),i===0&&o()})}var lo=0;function R(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Kn(){return++lo}var P=tt.prototype;R.prototype={constructor:R,select:Bi,selectAll:Gi,selectChild:P.selectChild,selectChildren:P.selectChildren,filter:Xi,merge:Hi,selection:Ki,transition:fo,call:P.call,nodes:P.nodes,node:P.node,size:P.size,empty:P.empty,each:P.each,on:Yi,attr:bi,attrTween:Si,style:ji,styleTween:eo,text:oo,textTween:uo,remove:Vi,tween:gi,delay:Ci,duration:Ti,ease:Ii,easeVarying:qi,end:co,[Symbol.iterator]:P[Symbol.iterator]};function ho(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var po={time:null,delay:0,duration:250,ease:ho};function go(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function yo(t){var n,e;t instanceof R?(n=t._id,t=t._name):(n=Kn(),(e=po).time=Ut(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,f=0;f<a;++f)(c=s[f])&&St(c,t,n,f,s,e||go(c,n));return new R(r,this._parents,t,n)}tt.prototype.interrupt=hi;tt.prototype.transition=yo;var _o=1e-6,gn=1e-12,V=Math.PI,yn=V/2,Po=V/4,Ro=V*2,O=180/V,b=V/180,To=Math.abs,Fo=Math.atan,yt=Math.atan2,A=Math.cos,Xt=Math.hypot,y=Math.sin,Io=Math.sign||function(t){return t>0?1:t<0?-1:0},Ht=Math.sqrt;function Lo(t){return t>1?0:t<-1?V:Math.acos(t)}function Zt(t){return t>1?yn:t<-1?-yn:Math.asin(t)}function _n(t){return(t=y(t/2))*t}function vo(){}function _t(t,n){t&&wn.hasOwnProperty(t.type)&&wn[t.type](t,n)}var vn={Feature:function(t,n){_t(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)_t(e[r].geometry,n)}},wn={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ot(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ot(e[r],n,0)},Polygon:function(t,n){xn(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)xn(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)_t(e[r],n)}};function Ot(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function xn(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Ot(t[e],n,1);n.polygonEnd()}function wo(t,n){t&&vn.hasOwnProperty(t.type)?vn[t.type](t,n):_t(t,n)}var K,vt,wt,xt,mt,bt,At,Nt,Dt,Yt,zt,Wn,Zn,_,v,w,k={sphere:vo,point:Jt,lineStart:mn,lineEnd:bn,polygonStart:function(){k.lineStart=bo,k.lineEnd=Ao},polygonEnd:function(){k.lineStart=mn,k.lineEnd=bn}};function Jt(t,n){t*=b,n*=b;var e=A(n);et(e*A(t),e*y(t),y(n))}function et(t,n,e){++K,wt+=(t-wt)/K,xt+=(n-xt)/K,mt+=(e-mt)/K}function mn(){k.point=xo}function xo(t,n){t*=b,n*=b;var e=A(n);_=e*A(t),v=e*y(t),w=y(n),k.point=mo,et(_,v,w)}function mo(t,n){t*=b,n*=b;var e=A(n),r=e*A(t),i=e*y(t),o=y(n),s=yt(Ht((s=v*o-w*i)*s+(s=w*r-_*o)*s+(s=_*i-v*r)*s),_*r+v*i+w*o);vt+=s,bt+=s*(_+(_=r)),At+=s*(v+(v=i)),Nt+=s*(w+(w=o)),et(_,v,w)}function bn(){k.point=Jt}function bo(){k.point=No}function Ao(){Jn(Wn,Zn),k.point=Jt}function No(t,n){Wn=t,Zn=n,t*=b,n*=b,k.point=Jn;var e=A(n);_=e*A(t),v=e*y(t),w=y(n),et(_,v,w)}function Jn(t,n){t*=b,n*=b;var e=A(n),r=e*A(t),i=e*y(t),o=y(n),s=v*o-w*i,a=w*r-_*o,c=_*i-v*r,f=Xt(s,a,c),u=Zt(f),l=f&&-u/f;Dt.add(l*s),Yt.add(l*a),zt.add(l*c),vt+=u,bt+=u*(_+(_=r)),At+=u*(v+(v=i)),Nt+=u*(w+(w=o)),et(_,v,w)}function qo(t){K=vt=wt=xt=mt=bt=At=Nt=0,Dt=new $t,Yt=new $t,zt=new $t,wo(t,k);var n=+Dt,e=+Yt,r=+zt,i=Xt(n,e,r);return i<gn&&(n=bt,e=At,r=Nt,vt<_o&&(n=wt,e=xt,r=mt),i=Xt(n,e,r),i<gn)?[NaN,NaN]:[yt(e,n)*O,Zt(r/i)*O]}function Xo(t,n){var e=t[0]*b,r=t[1]*b,i=n[0]*b,o=n[1]*b,s=A(r),a=y(r),c=A(o),f=y(o),u=s*A(e),l=s*y(e),h=c*A(i),p=c*y(i),d=2*Zt(Ht(_n(o-r)+s*c*_n(i-e))),g=y(d),x=d?function(rt){var C=y(rt*=d)/g,T=y(d-rt)/g,X=T*u+C*h,H=T*l+C*p,jn=T*a+C*f;return[yt(H,X)*O,yt(jn,Ht(X*X+H*H))*O]}:function(){return[e*O,r*O]};return x.distance=d,x}function W(t,n,e){this.k=t,this.x=n,this.y=e}W.prototype={constructor:W,scale:function(t){return t===1?this:new W(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new W(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};W.prototype;function ko(t){return t}function Eo(t){if(t==null)return ko;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(a,c){c||(n=e=0);var f=2,u=a.length,l=new Array(u);for(l[0]=(n+=a[0])*r+o,l[1]=(e+=a[1])*i+s;f<u;)l[f]=a[f],++f;return l}}function So(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}function Ho(t,n){return typeof n=="string"&&(n=t.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(e){return An(t,e)})}:An(t,n)}function An(t,n){var e=n.id,r=n.bbox,i=n.properties==null?{}:n.properties,o=Qn(t,n);return e==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function Qn(t,n){var e=Eo(t.transform),r=t.arcs;function i(u,l){l.length&&l.pop();for(var h=r[u<0?~u:u],p=0,d=h.length;p<d;++p)l.push(e(h[p],p));u<0&&So(l,d)}function o(u){return e(u)}function s(u){for(var l=[],h=0,p=u.length;h<p;++h)i(u[h],l);return l.length<2&&l.push(l[0]),l}function a(u){for(var l=s(u);l.length<4;)l.push(l[0]);return l}function c(u){return u.map(a)}function f(u){var l=u.type,h;switch(l){case"GeometryCollection":return{type:l,geometries:u.geometries.map(f)};case"Point":h=o(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(o);break;case"LineString":h=s(u.arcs);break;case"MultiLineString":h=u.arcs.map(s);break;case"Polygon":h=c(u.arcs);break;case"MultiPolygon":h=u.arcs.map(c);break;default:return null}return{type:l,coordinates:h}}return f(n)}function $o(t,n){var e={},r={},i={},o=[],s=-1;n.forEach(function(f,u){var l=t.arcs[f<0?~f:f],h;l.length<3&&!l[1][0]&&!l[1][1]&&(h=n[++s],n[s]=f,n[u]=h)}),n.forEach(function(f){var u=a(f),l=u[0],h=u[1],p,d;if(p=i[l])if(delete i[p.end],p.push(f),p.end=h,d=r[h]){delete r[d.start];var g=d===p?p:p.concat(d);r[g.start=p.start]=i[g.end=d.end]=g}else r[p.start]=i[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(f),p.start=l,d=i[l]){delete i[d.end];var x=d===p?p:d.concat(p);r[x.start=d.start]=i[x.end=p.end]=x}else r[p.start]=i[p.end]=p;else p=[f],r[p.start=l]=i[p.end=h]=p});function a(f){var u=t.arcs[f<0?~f:f],l=u[0],h;return t.transform?(h=[0,0],u.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=u[u.length-1],f<0?[h,l]:[l,h]}function c(f,u){for(var l in f){var h=f[l];delete u[h.start],delete h.start,delete h.end,h.forEach(function(p){e[p<0?~p:p]=1}),o.push(h)}}return c(i,r),c(r,i),n.forEach(function(f){e[f<0?~f:f]||o.push([f])}),o}function Oo(t){return Qn(t,Mo.apply(this,arguments))}function Mo(t,n,e){var r,i,o;if(arguments.length>1)r=Co(t,n,e);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:$o(t,r)}}function Co(t,n,e){var r=[],i=[],o;function s(l){var h=l<0?~l:l;(i[h]||(i[h]=[])).push({i:l,g:o})}function a(l){l.forEach(s)}function c(l){l.forEach(a)}function f(l){l.forEach(c)}function u(l){switch(o=l,l.type){case"GeometryCollection":l.geometries.forEach(u);break;case"LineString":a(l.arcs);break;case"MultiLineString":case"Polygon":c(l.arcs);break;case"MultiPolygon":f(l.arcs);break}}return u(n),i.forEach(e==null?function(l){r.push(l[0].i)}:function(l){e(l[0].g,l[l.length-1].g)&&r.push(l[0].i)}),r}export{$t as A,E as S,A as a,Ht as b,kn as c,yt as d,Zt as e,To as f,Lo as g,_o as h,yn as i,Io as j,Fo as k,b as l,wo as m,vo as n,O as o,V as p,Po as q,Fr as r,y as s,Ro as t,Ho as u,Oo as v,qo as w,Xo as x};
//# sourceMappingURL=mesh-BOmcAuTG.js.map
